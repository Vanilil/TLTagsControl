//
//  TLTagsControl.h
//  TagsInputSample
//
//  Created by Антон Кузнецов on 11.02.15.
//  Copyright (c) 2015 TheLightPrjg. All rights reserved.
//

#import <UIKit/UIKit.h>

@class TLTagsControl;

@protocol TLTagsControlDelegate <NSObject>

- (void)tagsControl:(TLTagsControl *)tagsControl tappedAtIndex:(NSInteger)index;
- (void) actionToChooseTags:(TLTagsControl *)tagsControl;
- (void)tagsControl:(TLTagsControl *)tagsControl removedAtIndex:(NSInteger)index;
- (void) textFieldShouldreturn:(TLTagsControl *)tagsControl textField:(UITextField *) textField;
- (void) shouldChangeCharactersInRange:(NSRange)range tagsControl:(TLTagsControl *)tagsControl textField:(UITextField *)textField replacementString:(NSString *)string;

@end

typedef NS_ENUM(NSUInteger, TLTagsControlMode) {
    TLTagsControlModeEdit,
    TLTagsControlModeList,
};

IB_DESIGNABLE @interface TLTagsControl : UIScrollView

@property (nonatomic, strong) NSMutableArray *tags;
@property (nonatomic, strong) IBInspectable UIColor *viewBackgroundColor;
@property (nonatomic, strong) IBInspectable UIColor *tagsBackgroundColor;
@property (nonatomic, strong) IBInspectable UIColor *tagsTextColor;
@property (nonatomic, strong) IBInspectable UIColor *tagsDeleteButtonColor;
@property (nonatomic, strong) IBInspectable UIColor *tagsBorderColor;
@property (nonatomic) IBInspectable CGFloat tagsBordersize;
@property (nonatomic, strong) IBInspectable NSString *tagPlaceholder;
@property (nonatomic, strong) UIFont *font;
@property (nonatomic) TLTagsControlMode mode;
@property (nonatomic) IBInspectable CGFloat marginTags;
@property (nonatomic) IBInspectable CGFloat tagsCornerRadius;
@property (nonatomic) IBInspectable BOOL chooseTaggWithClic;
@property (nonatomic) IBInspectable BOOL autocomplete;
@property (nonatomic) BOOL isActive;
@property (nonatomic) IBInspectable BOOL placeholderAlwaysVisible;

@property (assign, nonatomic) id<TLTagsControlDelegate> tapDelegate;

- (id)initWithFrame:(CGRect)frame andTags:(NSArray *)tags withTagsControlMode:(TLTagsControlMode)mode;

- (void)addTag:(NSString *)tag;
- (void)dismissKeyboard;
- (void)reloadTagSubviews;
- (void)setKeyboardFocus;
- (UITextField *) getTagInput;

@end
